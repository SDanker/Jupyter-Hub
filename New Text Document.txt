FROM ubuntu:latest
USER root
RUN apt-get update
RUN apt-get install -y python3-dev python3-pip npm nodejs curl git
RUN npm install -g configurable-http-proxy
RUN python3 -m pip install jupyterhub notebook jupyterlab --no-cache-dir
RUN pip install jupyterhub-nativeauthenticator
RUN apt-get install nano
RUN apt-get update 
RUN apt-get upgrade -y
#RUN apt-get install r-base -y
#RUN apt-get install libzmq3-dev libcurl4-openssl-dev libssl-dev jupyter-core jupyter-client
#RUN R -e install.packages(c('repr', 'IRdisplay', 'IRkernel'), type = 'source')
#RUN R -e IRkernel::installspec(user = FALSE)
#RUN jupyter labextension install @techrah/text-shortcuts
RUN jupyterhub --generate-config -f jupyterhub_config.py

# Set the root password
#RUN echo 'root:12345' | chpasswd

EXPOSE 8000

CMD ["jupyterhub"]